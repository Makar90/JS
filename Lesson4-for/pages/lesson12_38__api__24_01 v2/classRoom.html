<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/main.css">
    <title>Classroom</title>
</head>

<body>
    <div class="wrapper">
        <!-- <div w3-include-html="../header.html">w</div> -->
        <div class="header" w3-include-html="../header.html">
            <!-- markup writes from file by JS function w3-include-html="../"-->
        </div>


        <!-- --MAIN---------------------------------------------------- -->
        <div class="main">
            <div class="main__container container">
                <h2 class="main_title">Classroom</h2>

                <section class="taskBlock">
                    <h3 class="taskBlock_title">In progress...</h3>
                    <button class="btnShazam">Shazam</button>
                    <button class="btnShazamGetTopSongs">Shazam Top Soungs</button>
                    <button class="btnShazamGetTopSongs2">Shazam Top Soungs2</button>
                    <button class="btnWeather">Weather</button>
                    <button class="btnInstagrammSerchUsers">InstagrammSerchUsers</button>
                    <button class="btnRick_Morti">Rick Morti</button>

                    <div class="outApi"></div>


                    <section class="taskBlock">
                        <a id="download">Download</a>
                        <button id="stop">Stop</button>
                        <script>
                            const downloadLink = document.getElementById('download');
                            const stopButton = document.getElementById('stop');


                            const handleSuccess = function (stream) {
                                const options = { mimeType: 'audio/webm' };
                                const recordedChunks = [];
                                const mediaRecorder = new MediaRecorder(stream, options);

                                mediaRecorder.addEventListener('dataavailable', function (e) {
                                    if (e.data.size > 0) recordedChunks.push(e.data);
                                });

                                mediaRecorder.addEventListener('stop', function () {
                                    downloadLink.href = URL.createObjectURL(new Blob(recordedChunks));
                                    downloadLink.download = 'acetest.wav';
                                });

                                stopButton.addEventListener('click', function () {
                                    mediaRecorder.stop();
                                });

                                mediaRecorder.start();
                            };

                            navigator.mediaDevices.getUserMedia({ audio: true, video: false })
                                .then(handleSuccess);
                        </script>
                    </section>

                    <!-- <section class="taskBlock">
                    <h3 class="taskBlock_title">Task#1</h3>

                    <h4 class="taskBlock_title2">Description inp</h4>
                    <input class="inp1_1 taskBlock_inp " type="text" placeholder="Input" value="0" />

                    <h4 class="taskBlock_title2">Result</h4>
                    <span class="out1_1 taskBlock_out">Output</span>

                    <button class="btn1_1">Start</button>
                </section> -->

            </div>
        </div>
        <!-- --MAIN END---------------------------------------------------- -->


        <div class="footer" w3-include-html="../footer.html">
            <!-- markup writes from file by JS function w3-include-html="../"-->
        </div>
    </div>
    <script src="../../js/main.js"></script>
    <script src="../../js/lesson12_38__api__24_01_v2/classRoom.js"></script>
</body>

</html>